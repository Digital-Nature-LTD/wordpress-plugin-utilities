var l=Object.defineProperty;var r=(s,t,e)=>t in s?l(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var a=(s,t,e)=>r(s,typeof t!="symbol"?t+"":t,e);import{D as g}from"../../common/js/dn-utilities-common.js";class o extends HTMLElement{constructor(){super()}}customElements.define("digital-nature-grid-overlay",o);class d extends HTMLElement{constructor(){super()}}customElements.define("digital-nature-grid-overlay-cell",d);class c extends g{constructor(){super("digital-nature-loading-overlay-template");a(this,"messages",[]);a(this,"messagePosition","lower");a(this,"currentMessage",null);a(this,"messageClass","dn-loading-overlay__message");a(this,"cycleSpeed",5e3);a(this,"cycleMessagesInterval",null);let e=this.dataset.messages?JSON.parse(this.dataset.messages):[];if(this.messagePosition=this.dataset.messagePosition?this.dataset.messagePosition:"lower",this.cycleSpeed=this.dataset.cycleSpeed?this.dataset.cycleSpeed:5e3,e.length===0)return;let i=this;e.forEach(n=>{i.addMessage(n)})}startInterval(){let e=this;this.displayNextMessage(),this.cycleMessagesInterval=setInterval(function(){e.displayNextMessage()},this.cycleSpeed)}getNextMessage(){const i=(this.messages.indexOf(this.currentMessage)+1)%this.messages.length;return this.messages[i]}clearMessage(){let e=this.querySelector(`.${this.messageClass}`);e&&e.remove()}displayNextMessage(){this.currentMessage=this.getNextMessage(),this.clearMessage();let e=document.createElement("div");e.classList.add(this.messageClass),e.slot=this.messagePosition==="upper"?"upper-text":"lower-text",e.textContent=this.currentMessage,this.appendChild(e)}deleteMessage(e){const i=this.messages.indexOf(e);this.messages.splice(i,1),this.messages.length===0&&(this.classList.remove("populated"),clearInterval(this.cycleMessagesInterval),this.remove())}addMessage(e){this.classList.add("populated"),this.messages.indexOf(e)===-1&&(this.messages.push(e),this.cycleMessagesInterval||this.startInterval())}}customElements.define("digital-nature-loading-overlay",c);
